!to "innen2.prg", cbm

!src "rt_macros.a"
!src "rti_macros.a"

*=$C000

            jmp SHOW_IMAGE

HIDE_IMAGE  +RESET_IRQ
            lda #8
            sta $D016
            lda #32
            ldy #11
-           sta 1064,y
            sta 1104,y
            sta 1144,y
            sta 1184,y
            sta 1224,y
            sta 1264,y
            sta 1304,y
            sta 1344,y
            sta 1384,y
            sta 1424,y
            sta 1464,y
            dey
            bne -
            rts

SHOW_IMAGE  sei
            lda $01
            and #%11111110
            sta $01
            ;+COPY_CHAR_ROM $D000, $2000
            +COPY_DATA CHAR_DATA, CHAR_DATA_END, $2400
            +COPY_DATA SPRITE_DATA, SPRITE_DATA_END, $2800
            +RLINE 70
            lda #$0
            sta $D021

            lda $D018
            and #%11110001
            ora #%00001000
            sta $D018

            +INIT_IRQ irq, 22
            +COPY_CHAR CHAR, 1065, CHAR_COL, 55337
            lda $01
            ora #%00000001
            sta $01

            rts

COPY        +COPY

irq:        +START_IRQ

            +SYNC 27

            lda $D016
            sta B_CHAR_MC
            lda CHAR_MC
            sta $D016
            lda $D022
            sta B_CHAR_COL1
            lda CHAR_COL1
            sta $D022
            lda $D023
            sta B_CHAR_COL2
            lda CHAR_COL2
            sta $D023

            ldy #$10
-           lda $D000,y
            sta B_SPRITE_POS,y
            lda SPRITE_POS,y
            sta $D000,y
            dey
            bpl -

            ldy #$09
-           lda $D025,y
            sta B_SPRITE_COL,y
            lda SPRITE_COL,y
            sta $D025,y
            dey
            bpl -

            ldy #$07
-           lda 2040,y
            sta B_SPRITEDATA,y
            dey
            bpl -
            clc
            lda #$A0
            ldy #0
-           sta 2040,Y
            iny
            adc #5
            cmp #$C8
            bne -

            lda $D017
            sta B_SPRITE_YS
            lda #0
            sta $D017
            lda $D01B
            sta B_SPRITE_BG
            lda SPRITE_BG
            sta $D01B
            lda $D01C
            sta B_SPRITE_MC
            lda SPRITE_MC
            sta $D01C
            lda $D01D
            sta B_SPRITE_XS
            lda SPRITE_XS
            sta $D01D
            lda $D015
            sta B_SPRITE_ON
            lda #255
            sta $D015

            +RLINE 52

            lda #42+21
            sta $D001
            sta $D003
            lda #43+21
            sta $D005
            sta $D007
            lda #45+21
            sta $D009
            sta $D00B
            lda #48+21
            sta $D00D
            sta $D00F

            +RLINE 58
            +WAIT 41

 +WAIT 132
 inc 2040
 inc 2041
 +WAIT 32
 lda #84
 sta 53249
 lda #84
 sta 53251
 inc 2042
 inc 2043
 +WAIT 20
 lda #85
 sta 53253
 lda #85
 sta 53255
 +WAIT 32
 inc 2044
 inc 2045
 +WAIT 32
 lda #87
 sta 53257
 lda #87
 sta 53259
 +WAIT 33
 inc 2046
 inc 2047
 +WAIT 32
 lda #90
 sta 53261
 lda #90
 sta 53263
 +WAIT 518
 inc 2040
 inc 2041
 +WAIT 32
 lda #105
 sta 53249
 lda #105
 sta 53251
 inc 2042
 inc 2043
 +WAIT 20
 lda #106
 sta 53253
 lda #106
 sta 53255
 +WAIT 32
 inc 2044
 inc 2045
 +WAIT 32
 lda #108
 sta 53257
 lda #108
 sta 53259
 +WAIT 76
 inc 2046
 inc 2047
 +WAIT 32
 lda #111
 sta 53261
 lda #111
 sta 53263
 +WAIT 518
 inc 2040
 inc 2041
 +WAIT 32
 lda #126
 sta 53249
 lda #126
 sta 53251
 inc 2042
 inc 2043
 +WAIT 20
 lda #127
 sta 53253
 lda #127
 sta 53255
 inc 2044
 inc 2045
 +WAIT 21
 lda #129
 sta 53257
 lda #129
 sta 53259
 +WAIT 76
 inc 2046
 inc 2047
 +WAIT 32
 lda #132
 sta 53261
 lda #132
 sta 53263
 +WAIT 518
 inc 2040
 inc 2041
 +WAIT 32
 inc 2042
 inc 2043
 +WAIT 76
 inc 2044
 inc 2045
 +WAIT 77
 inc 2046
 inc 2047

            +RLINE 147

            lda B_CHAR_MC
            sta $D016
            lda B_CHAR_COL1
            sta $D022
            lda B_CHAR_COL2
            sta $D023

            ldy #$10
-           lda B_SPRITE_POS,y
            sta $D000,y
            dey
            bpl -

            ldy #$09
-           lda B_SPRITE_COL,y
            sta $D025,y
            dey
            bpl -

            ldy #$07
-           lda B_SPRITEDATA,y
            sta 2040,y
            dey
            bpl -

            lda B_SPRITE_YS
            sta $D017
            lda B_SPRITE_BG
            sta $D01B
            lda B_SPRITE_MC
            sta $D01C
            lda B_SPRITE_XS
            sta $D01D
            lda B_SPRITE_ON
            sta $D015

            +END_IRQ

CHAR_MC     !by 8
CHAR_COL1   !by 0
CHAR_COL2   !by 0
SPRITE_POS  !by 87,42,80,42,70,43,71,43,59,45,32,45,71,48,32,48,0
SPRITE_COL  !by 6,12,1,9,10,11,15,8,15,9
SPRITE_BG   !by 236
SPRITE_MC   !by 196
SPRITE_XS   !by 236

B_CHAR_MC     !by 0
B_CHAR_COL1   !by 0
B_CHAR_COL2   !by 0
B_SPRITE_POS  !by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
B_SPRITE_COL  !by 0,0,0,0,0,0,0,0,0,0
B_SPRITE_BG   !by 0
B_SPRITE_MC   !by 0
B_SPRITE_XS   !by 0
B_SPRITE_YS   !by 0
B_SPRITE_ON   !by 0
B_SPRITEDATA

*=$B23E

CHAR        !by 128,136,145,128,128,128,128,128,189,128,209,129,128,146,155,128,128,128,180,190,200,210,128,137,147,156,163,168,128,181,191,201,128,130,138,148,157,164,169,174,182,192,202,211,128,128,149,158,128,170,175,183,193,203,212,131,139,150,159,128,171,176,128,194,204,213,132,140,151,160,165,172,177,184,195,128,214,133,141,152,161,166,173,178,185,196,205,215,128,142,153,162,167,167,179,186,197,206,216,134,143,154,128,128,128,128,187,198,207,217,135,144,128,128,128,128,128,188,199,208,128
CHAR_COL    !by 6,14,14,6,6,6,6,6,14,6,6,14,6,14,14,6,6,6,14,14,14,6,6,14,14,14,11,11,6,14,14,14,6,14,14,14,14,15,15,15,14,14,14,14,6,6,14,14,15,15,15,12,12,15,6,11,11,11,11,15,15,12,12,12,12,11,8,8,8,8,15,9,8,12,12,12,12,9,9,9,9,8,9,8,2,0,0,12,9,9,9,9,8,8,8,2,2,10,12,9,8,12,12,12,12,12,11,2,2,2,9,12,12,12,12,12,12,12,11,9,9
CHAR_DATA   !by 255,255,255,255,255,255,255,255,0,0,128,64,48,8,6,1,0,0,0,0,240,15,0,0,0,0,0,0,0,0,3,254,0,0,31,255,255,231,255,255,1,7,63,255,255,255,255,255,255,255,255,255,255,254,248,192,128,0,1,6,8,16,96,128,1,1,0,0,0,0,0,0,192,32,24,4,3,0,0,0,0,0,0,0,0,192,63,0,0,0,0,0,0,3,254,0,0,127,255,254,159,255,252,228,251,251,251,251,251,253,253,253,253,253,253,253,253,253,253,253,2,7,15,63,254,252,240,224,31,63,255,255,255,255,255,255,0,0,128,128,64,32,32,16,8,8,4,2,2,1,1,0,0,0,0,0,0,128,96,16,12,2,1,0,0,0,128,126,1,0,0,0,0,0,0,0,0,0,0,0,3,252,0,0,127,255,247,255,252,192,0,0,255,255,255,255,255,63,255,255,255,255,255,255,252,249,243,198,3,15,31,63,127,255,255,255,0,0,0,0,0,0,0,128,64,64,32,16,16,8,8,4,2,2,129,64,48,0,0,0,224,0,0,0,0,0,0,0,0,0,0,0,192,0,0,0,224,96,224,224,47,47,47,46,223,223,211,208,208,208,208,208,208,208,208,16,112,192,0,0,0,0,0,0,0,0,1,2,0,0,0,255,255,255,255,255,255,255,255,0,0,0,0,0,63,0,0,63,63,63,63,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,252,138,0,0,0,119,7,119,119,7,119,119,7,119,119,7,119,119,7,119,119,7,119,119,7,119,0,0,0,255,255,48,56,24,28,254,255,12,12,12,0,0,0,0,0,254,255,252,252,252,255,255,224,224,224,224,224,224,15,15,15,15,15,11,15,14,0,0,0,0,0,128,192,192,224,128,0,192,224,224,224,224,224,224,224,224,0,0,0,0,0,0,1,1,2,4,4,8,8,16,16,32,64,64,128,128,1,2,12,16,32,0,3,0,31,1,0,0,224,124,239,253,191,255,111,61,15,7,1,0,110,170,76,0,0,0,4,8,0,6,0,0,0,0,0,0,255,119,57,61,30,14,15,7,252,252,254,255,255,255,255,255,4,8,8,16,16,32,64,64,128,128,0,0,0,0,0,0,0,1,2,4,8,48,64,128,0,0,0,0,15,240,0,0,192,240,120,56,28,28,12,224,188,247,251,255,255,255,255,255,255,255,255,255,255,127,255,231,192,224,56,28,6,3,0,0,96,96,1,76,104,65,0,0,9,4,1,1,0,0,0,0,128,192,224,240,240,120,124,62,0,0,0,3,4,8,16,32,192,0,0,0,0,0,0,0,0,0,15,240,0,0,0,0,4,8,0,16,0,0,32,0,24,128,240,62,247,243,255,255,0,0,0,0,0,128,192,48,192,192,248,254,39,109,247,190,0,96,252,255,221,127,31,7,224,51,31,15,7,3,1,0,255,255,255,255,254,253,243,239,223,191,127,255,255,255,255,255,15,240,0,0,0,0,0,0,0,0,255,255,255,255,255,255,224,254,255,255,127,15,193,64,249,249,255,255,255,255,255,255,255,255,255,255,255,255,255,127,127,247,243,59,31,7,3,1,128,50,19,128,192,226,224,128
CHAR_DATA_END
SPRITE_DATA !by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,72,0,0,16,0,0,0,0,0,162,0,0,0,0,0,15,224,0,255,240,0,127,248,0,124,0,0,56,128,0,24,4,0,12,0,16,6,17,0,3,0,0,0,1,128,32,0,192,1,0,98,4,0,48,32,0,24,0,0,12,2,0,6,0,0,3,0,0,1,145,0,0,64,0,0,0,0,0,20,0,0,8,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
            !by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,16,0,0,16,0,0,16,0,0,144,0,0,208,0,0,88,0,0,60,0,0,60,0,0,28,0,0,126,0,0,254,0,0,62,0,0,30,0,0,23,0,0,19,0,0,17,128,0,16,192,0,16,96,0,16,48,0,16,24,0,0,0,12,0,0,6,0,0,3,0,0,1,128,0,0,192,0,0,96,0,0,48,0,0,24,0,0,12,0,0,7,0,0,3,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
            !by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,0,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,69,85,85,245,85,85,241,85,85,1,85,85,5,85,85,0,48,85,85,0,85,85,240,21,85,48,245,83,48,61,83,0,12,95,48,1,80,48,5,77,51,0,65,240,192,113,243,240,5,243,192,5,243,240,49,192,243,49,240,252,0,48,252,192,48,255,48,48,255,204,48,255,207,192,255,255,240,63,255,0,0,255,252,0,63,252,0,15,255,0,51,255,0,15,255,0,163,255,0,131,255,0,160,255,0,163,255,0,43,255,0,163,63,0,160,255,0,3,207,0,0,255,0,10,63,0,42,179,0,42,143,0,10,140,0,10,128,0,10,160,252,10,163,0,255,2,168,255,2,168,255,2,170,255,194,170,255,192,170,255,192,138,255,192,10,255,240,2,255,240,2,255,240,162,255,240,42,255,240,40,255,240,0,255,240,0,255,252,0,255,252,0,255,252,0,255,252,0,255,252,0,0,0,0,0,0,0,0
            !by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,240,0,0,176,0,0,176,0,0,240,0,0,176,0,0,0,128,0,0,96,0,0,1,128,0,128,0,3,225,0,0,160,64,0,128,16,7,131,224,0,130,240,0,3,56,16,34,156,0,2,45,144,2,19,208,98,5,220,2,2,127,130,1,63,194,0,207,130,0,39,131,0,51,34,0,12,0,128,4,0,1,64,1,0,0,1,0,160,0,0,208,0,0,96,0,0,8,0,0,0,0,0,18,0,0,0,0,0,0,0,0,12,128,0,0,0,0,0,32,2,0,32,3,0,128,3,0,200,3,128,104,3,128,50,3,192,27,3,192,13,1,224,12,0,1,224,6,0,240,3,0,240,1,0,248,1,0,88,0,0,104,0,0,108,0,0,52,0,0,48,0,0,48,0,0,24,0,0,24,0,0,24,0,0,12,0,0,12,0,0,12,0,0,6,0,0,6,0,0,7,0,0,0,0,0,0,0,0
            !by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,251,191,31,248,63,0,63,251,191,127,251,191,127,248,63,255,251,191,255,251,191,255,248,63,255,251,191,255,251,191,255,248,63,255,251,191,255,251,191,255,248,63,255,251,191,255,251,191,255,248,63,255,251,191,127,251,191,127,248,63,127,251,191,127,255,255,127,255,255,0,127,255,255,0,0,3,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
            !by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,120,0,7,240,0,0,63,216,0,254,248,0,243,227,0,159,131,123,254,3,123,248,2,127,242,4,125,226,4,1,130,6,0,2,7,125,2,7,125,1,7,125,1,7,125,1,7,255,1,7,255,1,7,255,1,7,255,1,15,255,1,24,0,1,48,0,1,32,0,0,1,96,0,0,192,0,1,128,0,3,128,0,7,0,0,14,0,0,30,0,0,60,0,0,120,0,0,248,0,0,240,0,0,240,0,0,224,0,0,192,0,0,192,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
            !by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,0,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,21,85,85,245,85,85,245,85,85,245,85,85,245,85,85,170,85,85,234,149,85,170,149,85,170,245,91,234,245,111,0,170,185,95,170,157,124,248,31,117,171,198,117,171,195,117,235,240,117,171,252,53,171,252,241,235,255,49,171,255,192,171,255,240,251,255,240,171,255,252,171,255,255,235,255,255,171,255,255,170,255,255,170,255,255,170,255,255,10,255,255,10,191,255,0,10,63,255,0,15,255,0,3,255,0,3,255,0,3,255,0,3,255,0,11,255,0,3,255,0,2,255,0,3,255,0,0,63,0,0,63,0,0,15,0,0,15,0,0,15,255,0,3,255,0,3,255,0,3,255,0,0,255,192,0,255,192,0,0,255,192,0,255,192,0,255,192,0,255,240,0,255,240,0,255,240,0,255,240,0,255,240,0,255,240,0,255,252,0,255,252,0,255,252,0,255,252,0,255,252,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
            !by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,0,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,81,85,85,95,85,85,95,85,85,83,85,85,93,85,85,3,21,85,12,69,85,15,84,84,3,85,84,12,0,85,80,0,85,84,3,85,84,15,85,84,3,85,84,15,85,84,12,85,84,15,85,84,15,85,84,12,85,84,15,85,84,3,85,84,15,85,84,3,85,40,3,82,168,12,42,168,15,170,136,0,168,8,0,128,40,0,2,10,170,8,40,170,0,160,168,136,2,168,138,10,170,138,42,170,138,42,170,170,170,170,170,170,168,130,170,168,130,170,40,130,170,168,0,170,168,0,170,168,0,170,168,0,170,168,0,170,168,0,170,171,255,170,175,255,170,175,255,170,191,255,170,175,255,170,191,255,0,168,191,255,168,191,255,162,191,255,163,255,255,163,255,255,139,255,255,139,255,255,11,255,255,47,255,255,63,255,255,63,255,255,191,255,255,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
SPRITE_DATA_END
