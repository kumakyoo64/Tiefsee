!to "innen1a.prg", cbm

!src "rt_macros.a"
!src "rti_macros.a"

*=$C000

            jmp SHOW_IMAGE

HIDE_IMAGE  +RESET_IRQ
            lda #8
            sta $D016
            lda #32
            ldy #11
-           sta 1064,y
            sta 1104,y
            sta 1144,y
            sta 1184,y
            sta 1224,y
            sta 1264,y
            sta 1304,y
            sta 1344,y
            sta 1384,y
            sta 1424,y
            sta 1464,y
            dey
            bne -
            rts

SHOW_IMAGE  sei
            lda $01
            and #%11111110
            sta $01
            ;+COPY_CHAR_ROM $D000, $2000
            +COPY_DATA CHAR_DATA, CHAR_DATA_END, $2400
            +COPY_DATA SPRITE_DATA, SPRITE_DATA_END, $2800
            +RLINE 70
            lda #$0
            sta $D021

            lda $D018
            and #%11110001
            ora #%00001000
            sta $D018

            +INIT_IRQ irq, 22
            +COPY_CHAR CHAR, 1065, CHAR_COL, 55337
            lda $01
            ora #%00000001
            sta $01

            rts

COPY        +COPY

irq:        +START_IRQ

            +SYNC 27

            lda $D016
            sta B_CHAR_MC
            lda CHAR_MC
            sta $D016
            lda $D022
            sta B_CHAR_COL1
            lda CHAR_COL1
            sta $D022
            lda $D023
            sta B_CHAR_COL2
            lda CHAR_COL2
            sta $D023

            ldy #$10
-           lda $D000,y
            sta B_SPRITE_POS,y
            lda SPRITE_POS,y
            sta $D000,y
            dey
            bpl -

            ldy #$09
-           lda $D025,y
            sta B_SPRITE_COL,y
            lda SPRITE_COL,y
            sta $D025,y
            dey
            bpl -

            ldy #$07
-           lda 2040,y
            sta B_SPRITEDATA,y
            dey
            bpl -
            clc
            lda #$A0
            ldy #0
-           sta 2040,Y
            iny
            adc #5
            cmp #$C8
            bne -

            lda $D017
            sta B_SPRITE_YS
            lda #0
            sta $D017
            lda $D01B
            sta B_SPRITE_BG
            lda SPRITE_BG
            sta $D01B
            lda $D01C
            sta B_SPRITE_MC
            lda SPRITE_MC
            sta $D01C
            lda $D01D
            sta B_SPRITE_XS
            lda SPRITE_XS
            sta $D01D
            lda $D015
            sta B_SPRITE_ON
            lda #255
            sta $D015

            +RLINE 52

            lda #42+21
            sta $D001
            sta $D003
            lda #43+21
            sta $D005
            sta $D007
            lda #45+21
            sta $D009
            sta $D00B
            lda #48+21
            sta $D00D
            sta $D00F

            +RLINE 58
            +WAIT 41

 +WAIT 132
 inc 2040
 inc 2041
 +WAIT 32
 lda #84
 sta 53249
 lda #84
 sta 53251
 inc 2042
 inc 2043
 +WAIT 20
 lda #85
 sta 53253
 lda #85
 sta 53255
 +WAIT 32
 inc 2044
 inc 2045
 +WAIT 32
 lda #87
 sta 53257
 lda #87
 sta 53259
 +WAIT 33
 inc 2046
 inc 2047
 +WAIT 32
 lda #90
 sta 53261
 lda #90
 sta 53263
 +WAIT 518
 inc 2040
 inc 2041
 +WAIT 32
 lda #105
 sta 53249
 lda #105
 sta 53251
 inc 2042
 inc 2043
 +WAIT 20
 lda #106
 sta 53253
 lda #106
 sta 53255
 +WAIT 32
 inc 2044
 inc 2045
 +WAIT 32
 lda #108
 sta 53257
 lda #108
 sta 53259
 +WAIT 76
 inc 2046
 inc 2047
 +WAIT 32
 lda #111
 sta 53261
 lda #111
 sta 53263
 +WAIT 518
 inc 2040
 inc 2041
 +WAIT 32
 lda #126
 sta 53249
 lda #126
 sta 53251
 inc 2042
 inc 2043
 +WAIT 20
 lda #127
 sta 53253
 lda #127
 sta 53255
 inc 2044
 inc 2045
 +WAIT 21
 lda #129
 sta 53257
 lda #129
 sta 53259
 +WAIT 76
 inc 2046
 inc 2047
 +WAIT 32
 lda #132
 sta 53261
 lda #132
 sta 53263
 +WAIT 518
 inc 2040
 inc 2041
 +WAIT 32
 inc 2042
 inc 2043
 +WAIT 76
 inc 2044
 inc 2045
 +WAIT 77
 inc 2046
 inc 2047

            +RLINE 147

            lda B_CHAR_MC
            sta $D016
            lda B_CHAR_COL1
            sta $D022
            lda B_CHAR_COL2
            sta $D023

            ldy #$10
-           lda B_SPRITE_POS,y
            sta $D000,y
            dey
            bpl -

            ldy #$09
-           lda B_SPRITE_COL,y
            sta $D025,y
            dey
            bpl -

            ldy #$07
-           lda B_SPRITEDATA,y
            sta 2040,y
            dey
            bpl -

            lda B_SPRITE_YS
            sta $D017
            lda B_SPRITE_BG
            sta $D01B
            lda B_SPRITE_MC
            sta $D01C
            lda B_SPRITE_XS
            sta $D01D
            lda B_SPRITE_ON
            sta $D015

            +END_IRQ

CHAR_MC     !by 8
CHAR_COL1   !by 0
CHAR_COL2   !by 0
SPRITE_POS  !by 34,42,92,42,68,43,71,43,59,45,34,45,71,48,32,48,0
SPRITE_COL  !by 9,12,14,2,10,11,15,8,14,6
SPRITE_BG   !by 253
SPRITE_MC   !by 197
SPRITE_XS   !by 253

B_CHAR_MC     !by 0
B_CHAR_COL1   !by 0
B_CHAR_COL2   !by 0
B_SPRITE_POS  !by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
B_SPRITE_COL  !by 0,0,0,0,0,0,0,0,0,0
B_SPRITE_BG   !by 0
B_SPRITE_MC   !by 0
B_SPRITE_XS   !by 0
B_SPRITE_YS   !by 0
B_SPRITE_ON   !by 0
B_SPRITEDATA

*=$B22E

CHAR        !by 128,136,145,128,128,128,128,128,192,128,212,129,128,146,155,128,128,128,183,193,203,213,128,137,147,156,163,169,128,184,194,204,128,130,138,148,157,164,170,175,185,195,205,214,128,128,149,158,128,171,176,186,196,206,215,131,139,150,159,165,172,177,128,197,207,216,132,140,151,160,166,173,178,187,198,128,217,133,141,152,161,167,174,179,188,199,208,155,128,142,153,162,168,168,180,189,200,209,218,134,143,154,128,128,128,181,190,201,210,219,135,144,128,128,128,128,182,191,202,211,128
CHAR_COL    !by 6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,14,6,6,6,15,15,6,6,6,6,6,6,6,6,15,15,15,11,6,6,6,6,11,11,11,8,15,15,12,12,12,12,11,8,8,8,8,8,8,9,11,12,12,12,8,9,9,9,11,8,8,1,1,0,12,9,9,9,9,8,8,8,1,1,10,12,9,8,12,12,12,12,0,11,1,1,10,8,12,12,12,12,12,0,12,11,9,9
CHAR_DATA   !by 255,255,255,255,255,255,255,255,255,255,127,191,207,247,249,254,0,0,0,0,240,15,0,0,0,0,0,0,0,0,3,254,0,0,31,255,255,231,255,255,254,248,192,0,0,0,0,0,255,255,255,255,255,254,248,192,127,255,254,248,240,224,128,0,254,254,255,255,255,255,255,255,63,223,231,251,252,255,255,255,255,255,255,255,255,63,192,255,0,0,0,0,0,3,254,0,0,127,255,254,159,255,252,228,251,251,251,251,251,253,253,253,253,253,253,253,253,253,253,253,2,7,15,63,254,252,240,224,31,63,255,255,255,255,255,255,255,255,127,127,191,223,223,239,247,247,251,253,253,254,254,255,255,255,255,255,255,127,159,239,243,253,254,255,255,255,127,129,254,255,255,255,255,255,255,255,0,0,0,0,3,252,0,0,127,255,247,255,252,192,0,0,255,255,255,255,255,63,255,255,255,255,255,255,252,249,243,198,3,15,31,63,127,255,255,255,255,255,255,255,255,255,255,127,191,191,223,239,239,247,247,251,253,253,126,191,204,248,240,240,31,31,31,31,31,31,31,31,0,0,0,0,0,0,15,235,238,103,231,231,39,39,32,32,208,223,208,208,208,208,208,208,208,208,208,16,112,192,0,0,255,255,255,255,255,255,254,252,0,0,0,255,255,255,255,255,255,255,255,255,255,0,0,0,223,255,255,255,255,31,0,0,192,0,0,0,0,0,192,0,255,255,255,255,0,0,0,0,255,255,255,255,255,255,3,1,0,0,0,119,7,119,119,7,119,119,7,119,119,7,119,119,7,119,119,7,119,0,0,0,237,255,255,255,255,239,0,0,0,0,255,255,255,255,243,255,254,254,253,1,0,0,0,0,0,0,31,16,20,16,16,16,15,15,15,15,15,11,15,14,48,48,80,80,80,88,220,124,0,0,224,224,224,224,224,224,224,224,224,224,0,0,0,0,0,1,1,3,7,6,14,12,12,28,24,24,24,24,24,24,255,255,254,254,253,251,251,247,247,239,239,223,191,191,127,127,254,253,243,239,95,63,0,0,0,8,7,0,0,0,0,0,64,0,144,194,112,0,0,2,0,68,0,30,254,254,248,113,48,16,4,6,3,1,0,0,127,119,57,61,30,14,15,7,252,252,254,255,255,255,255,255,251,247,247,239,239,223,191,191,127,127,255,255,255,255,255,255,255,254,253,251,247,207,191,127,255,255,255,255,240,15,255,127,31,15,135,195,3,1,0,0,188,247,251,255,255,255,255,255,255,255,255,255,255,127,255,231,0,0,0,64,224,240,0,0,8,0,34,0,0,128,196,96,48,24,12,6,3,0,0,0,128,192,224,240,240,120,124,62,255,255,255,252,251,247,239,223,63,255,255,255,255,255,255,255,255,255,240,15,255,255,255,252,248,240,240,225,225,227,3,0,24,128,240,62,247,243,255,255,0,0,0,0,0,128,192,48,192,192,248,254,39,109,247,190,0,4,0,0,34,128,0,40,224,51,31,15,7,3,1,0,255,255,255,255,254,253,243,239,223,191,127,255,255,255,255,255,240,15,255,255,255,255,0,0,0,0,255,255,255,255,255,255,224,254,255,255,127,15,193,64,249,249,255,255,255,255,255,255,127,247,243,59,31,7,3,1,124,200,108,119,63,13,24,96
CHAR_DATA_END
SPRITE_DATA !by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,2,0,0,2,0,0,0,0,128,0,0,128,0,0,128,0,0,128,0,0,128,0,0,128,0,0,32,0,128,32,0,128,32,0,160,32,0,32,32,0,32,32,0,8,32,0,8,8,0,8,8,0,2,8,0,2,8,0,2,136,0,0,136,12,0,128,60,0,32,0,0,0,32,0,0,32,12,0,8,0,32,0,60,10,0,12,2,160,0,0,40,0,0,0,12,0,0,12,0,0,12,0,0,60,0,0,48,0,0,60,0,0,60,0,0,48,0,0,60,0,0,12,0,0,12,0,0,12,0,21,85,1,85,0,0,21,84,0,85,5,68,80,20,0,64,68,0,1,4,0,20,20,0,64,85,68,1,85,85,5,87,252,17,80,240,81,81,85,81,80,0,81,80,0,81,80,0,84,80,0,84,80,0,84,80,0,84,80,0,84,80,0,84,80,0,84,64,0,0,84,79,255,84,15,255,84,63,255,84,63,255,84,127,255,84,127,255,84,127,255,81,255,255,81,255,255,67,255,255,7,255,255,3,255,255,7,255,255,31,255,255,31,255,255,127,255,255,255,255,255,63,255,255,255,255,255,255,255,255,0,0,0,0
            !by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,224,0,0,160,0,0,192,0,0,0,0,0,0,0,0,0,0,0,64,0,0,128,192,0,6,0,0,38,0,0,0,16,0,4,192,0,0,6,137,128,4,25,0,0,0,8,0,0,24,0,144,8,0,70,3,0,31,193,0,31,248,0,13,220,0,7,254,0,1,254,0,0,120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
            !by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,0,0,48,0,0,0,0,0,48,0,0,0,12,0,0,0,0,0,60,0,0,12,48,3,48,60,15,0,15,15,12,3,12,12,3,204,12,195,12,60,192,252,48,192,252,60,204,0,60,252,0,0,252,0,60,255,0,12,255,48,12,255,192,12,255,243,84,63,243,0,255,255,1,63,255,0,20,63,255,0,63,255,0,63,255,0,63,255,0,15,255,16,44,255,84,163,255,252,168,63,240,96,255,85,104,255,1,104,15,1,96,63,1,64,3,1,0,51,1,2,191,1,26,128,1,26,140,1,2,131,1,10,163,1,10,160,255,6,168,0,255,2,170,255,2,170,255,1,170,255,193,170,255,192,170,255,240,138,255,240,66,255,240,66,255,240,64,255,240,34,255,252,17,255,240,25,255,240,5,255,240,5,255,252,5,255,252,1,255,255,1,255,255,1,255,255,1,0,0,0,0,0,0,0
            !by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,240,0,0,176,0,0,176,0,0,240,0,0,176,0,0,0,128,0,0,96,0,0,1,128,0,128,0,3,225,0,0,160,64,0,128,16,7,131,224,0,130,240,0,3,56,16,34,156,0,2,45,144,2,19,208,98,5,220,2,2,127,130,1,63,194,0,207,130,0,39,3,0,51,2,0,12,0,128,4,0,1,64,1,0,0,1,0,160,0,0,80,0,0,96,0,0,8,0,0,0,0,8,18,0,124,0,0,0,0,0,0,4,128,0,0,0,0,0,32,2,0,32,51,0,128,3,0,200,3,128,104,3,128,50,3,192,27,3,192,13,1,192,12,0,1,224,6,0,176,3,0,240,1,0,120,1,0,88,0,0,104,0,0,108,0,0,52,0,0,48,0,0,48,0,0,24,0,0,24,0,0,24,0,0,12,0,0,12,0,0,12,0,0,6,0,0,6,0,0,7,0,0,0,0,0,0,0,0
            !by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,63,252,0,124,126,0,0,127,253,0,255,252,64,254,124,32,255,254,16,255,255,128,254,112,0,255,240,4,255,240,0,254,112,0,255,240,1,255,240,0,254,112,0,255,240,0,255,240,0,254,112,0,255,240,0,0,0,0,0,0,0,0,0,0,0,8,0,0,12,0,0,0,28,0,0,30,0,0,30,0,0,20,0,0,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,8,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
            !by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,251,0,30,251,1,255,255,31,255,255,0,255,255,255,255,255,255,255,207,255,255,14,255,252,8,0,252,8,0,228,8,0,196,8,0,4,15,255,4,15,255,4,15,255,2,15,255,2,14,251,2,15,255,2,15,255,2,15,255,2,15,255,2,31,255,2,48,0,2,96,0,2,64,0,0,2,192,0,1,128,0,7,0,0,7,0,0,14,0,0,30,0,0,60,0,0,120,0,0,240,0,0,240,0,0,224,0,0,224,0,0,192,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
            !by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,2,0,0,2,0,0,8,2,0,8,2,0,8,2,0,8,8,0,8,8,0,8,8,0,0,8,40,0,32,32,0,32,32,0,32,32,0,32,128,0,32,128,0,32,128,0,34,0,0,130,0,0,130,0,0,138,0,0,136,0,240,136,0,240,136,2,240,160,10,242,32,40,48,32,160,192,130,128,240,202,0,51,248,15,240,252,15,0,0,60,63,48,15,60,240,15,60,51,195,48,243,195,48,243,243,48,243,255,48,243,252,240,195,255,48,243,255,192,51,255,240,243,255,240,51,255,252,87,255,255,23,255,255,71,255,255,23,255,255,5,255,255,5,255,255,5,255,255,5,63,255,0,21,63,255,85,15,255,245,15,255,245,3,255,85,3,255,1,3,255,1,0,255,1,0,255,1,64,63,1,67,255,1,64,63,1,64,63,1,64,15,1,80,15,1,0,15,255,0,3,255,16,3,255,20,3,255,4,0,255,4,0,255,4,0,0,255,197,0,255,193,0,255,192,0,255,240,64,255,240,65,255,240,65,255,240,5,255,240,21,255,240,21,255,252,5,255,252,5,255,252,5,255,252,5,255,252,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
            !by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,0,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,162,170,170,175,170,170,174,170,170,162,170,170,174,170,170,3,42,170,12,138,170,15,168,168,3,170,168,12,0,170,160,0,170,168,3,170,168,15,170,168,3,170,168,15,170,168,12,170,168,15,170,168,15,170,168,12,170,168,15,170,168,3,170,168,15,170,168,3,170,21,85,161,84,81,21,85,4,85,69,69,84,5,0,64,21,0,1,5,0,4,21,0,0,80,85,68,1,85,85,5,85,255,21,84,252,21,85,85,85,84,0,85,84,0,85,84,0,85,20,0,85,84,0,85,84,0,85,84,0,85,84,0,85,84,0,85,84,0,85,87,255,85,95,255,85,95,255,85,95,255,85,127,255,85,127,255,0,84,255,255,84,255,255,81,255,255,83,255,255,83,255,255,71,255,255,79,255,255,15,255,255,31,255,255,31,255,255,63,255,255,127,255,255,127,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
SPRITE_DATA_END
